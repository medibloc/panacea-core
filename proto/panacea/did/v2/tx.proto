syntax = "proto3";
package panacea.did.v2;

option java_multiple_files = true;
option go_package = "github.com/medibloc/panacea-core/x/did/types";

import "gogoproto/gogo.proto";
import "panacea/did/v2/did.proto";

service Msg {
  rpc CreateDID(MsgCreateDID) returns (MsgCreateDIDResponse);

  rpc UpdateDID(MsgUpdateDID) returns (MsgUpdateDIDResponse);
  rpc DeactivateDID(MsgDeactivateDID) returns (MsgDeactivateDIDResponse);
}

message MsgCreateDID {
  string DID = 1 [json_name = "did", (gogoproto.jsontag) = "did"];
  DIDDocument document = 2;
  string verificationMethodID = 3 [json_name = "verification_method_id", (gogoproto.jsontag) = "verification_method_id"];
  bytes signature = 4;
  string fromAddress = 5 [json_name = "from_address", (gogoproto.jsontag) = "from_address"];
}

message MsgCreateDIDResponse {}

message MsgUpdateDID {
  string DID = 1 [json_name = "did", (gogoproto.jsontag) = "did"];
  DIDDocument document = 2;
  string verificationMethodID = 3 [json_name = "verification_method_id", (gogoproto.jsontag) = "verification_method_id"];
  bytes signature = 4;
  string fromAddress = 5 [json_name = "from_address", (gogoproto.jsontag) = "from_address"];
}

message MsgUpdateDIDResponse {}

message MsgDeactivateDID {
  string DID = 1 [json_name = "did", (gogoproto.jsontag) = "did"];
  string verificationMethodID = 2 [json_name = "verification_method_id", (gogoproto.jsontag) = "verification_method_id"];
  bytes signature = 3;
  string fromAddress = 4 [json_name = "from_address", (gogoproto.jsontag) = "from_address"];
}

message MsgDeactivateDIDResponse {}
